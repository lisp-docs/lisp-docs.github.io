<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial/advanced_topics/readtables" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Readtable | Common Lisp Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lisp-docs.github.io/img/1024px-Lisp_logo.svg.png"><meta data-rh="true" name="twitter:image" content="https://lisp-docs.github.io/img/1024px-Lisp_logo.svg.png"><meta data-rh="true" property="og:url" content="https://lisp-docs.github.io/docs/tutorial/advanced_topics/readtables"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="Vzaw013_bfdKeUVG89Ch3W1zC9_vH9ID2dPB9Dz0vr0"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Readtable | Common Lisp Docs"><meta data-rh="true" name="description" content="This article needs to be checked!."><meta data-rh="true" property="og:description" content="This article needs to be checked!."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lisp-docs.github.io/docs/tutorial/advanced_topics/readtables"><link data-rh="true" rel="alternate" href="https://lisp-docs.github.io/docs/tutorial/advanced_topics/readtables" hreflang="en"><link data-rh="true" rel="alternate" href="https://lisp-docs.github.io/docs/tutorial/advanced_topics/readtables" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://C1F2Q5VM6X-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Common Lisp Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Common Lisp Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8TJCE4NSF8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8TJCE4NSF8",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Common Lisp Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.d316d1e5.css">
<script src="/assets/js/runtime~main.45d03975.js" defer="defer"></script>
<script src="/assets/js/main.64701cd7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Lisp Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Lisp Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Common Lisp Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tutorial">Tutorial</a><a href="https://lisp-docs.github.io/cl-language-reference/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Technical Reference</a><a class="navbar__item navbar__link" href="/docs/whylisp">Why Lisp?</a><a class="navbar__item navbar__link" href="/docs/howto">Guides</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/contribute">Contribute!</a><a class="navbar__item navbar__link" href="/docs/help">Getting Help</a><a class="navbar__item navbar__link" href="/docs/about">About</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/lisp-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial">Tutorial Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/motivation">Motivation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/using-cl-implementation">Common Lisp Implementations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/informal-introduction-to-lisp">An Informal Introduction to Common Lisp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/control-flows">Control Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/data-structures">Data Structures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/functions">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/object-system">Object System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/io">Input and Output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/types">Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/conditions">Condition System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/packages">Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/macros">Macros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/documentation">Documenting your Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/debugging">Debugging Common Lisp</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/advanced-topics">Advanced Topics</a><button aria-label="Collapse sidebar category &#x27;Advanced Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/advanced_topics/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/advanced_topics/style">Style Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/advanced_topics/mop">MetaObject Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial/advanced_topics/readtables">Readtable</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/for_beginners">Beginner Programmers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorial/for_programmers">Experienced Programmers</a><button aria-label="Expand sidebar category &#x27;Experienced Programmers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorial/projects">Structuring projects</a><button aria-label="Expand sidebar category &#x27;Structuring projects&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/advanced-topics"><span itemprop="name">Advanced Topics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Readtable</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Readtable</h1>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>This article <strong>needs to be checked!</strong>.
Please help contribute by checking it and making changes in <a href="https://github.com/lisp-docs/lisp-docs.github.io" target="_blank" rel="noopener noreferrer">our repository</a> or by clicking on the &quot;Edit this page&quot; link below.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-readtables-and-associated-concepts-in-common-lisp">Introduction to Readtables and Associated Concepts in Common Lisp<a href="#introduction-to-readtables-and-associated-concepts-in-common-lisp" class="hash-link" aria-label="Direct link to Introduction to Readtables and Associated Concepts in Common Lisp" title="Direct link to Introduction to Readtables and Associated Concepts in Common Lisp">​</a></h2>
<p>The <em>readtable</em> in Common Lisp is a crucial component responsible for parsing textual input into Lisp objects. It defines the syntax of the language, determining how characters are interpreted and combined to form symbols, numbers, strings, lists, and other Lisp data structures. Understanding readtables allows you to customize the Lisp reader&#x27;s behavior, enabling you to create domain-specific languages or handle non-standard input formats.</p>
<p>This tutorial will introduce you to the fundamental concepts of readtables, including character syntax, reader macros, and how to manipulate readtables to control the parsing process.</p>
<p><strong>Key Concepts:</strong></p>
<ul>
<li><strong>Readtable:</strong> A data structure that maps characters to their syntax types and associated actions.</li>
<li><strong>Character Syntax:</strong> The interpretation of individual characters (e.g., whitespace, constituent, macro, terminator).</li>
<li><strong>Reader Macros:</strong> Functions associated with specific characters that perform custom parsing actions.</li>
<li><strong>Standard Readtable:</strong> The default readtable used by Common Lisp.</li>
<li><strong>Customizing Readtables:</strong> Creating and modifying readtables to change Lisp syntax.</li>
</ul>
<p><strong>Table of Contents:</strong></p>
<p><strong>1. Introduction to Readtables:</strong></p>
<ul>
<li>What is a readtable?</li>
<li>The role of the readtable in the Lisp reader.</li>
<li>The current readtable (<code>*readtable*</code>).</li>
</ul>
<p><strong>2. Character Syntax:</strong></p>
<ul>
<li>Constituent characters.</li>
<li>Whitespace characters.</li>
<li>Macro characters.</li>
<li>Terminating macro characters.</li>
<li>Non-terminating macro characters.</li>
<li>Multiple escape characters.</li>
</ul>
<p><strong>3. Reader Macros:</strong></p>
<ul>
<li>What are reader macros?</li>
<li>Defining reader macros using <code>set-macro-character</code>.</li>
<li>Examples of standard reader macros (<code>&#x27;</code>, <code>#</code>, <code>,</code>, etc.).</li>
<li>Defining custom reader macros.</li>
</ul>
<p><strong>4. Readtable Functions:</strong></p>
<ul>
<li><code>copy-readtable</code>: Creating copies of readtables.</li>
<li><code>set-syntax-from-char</code>: Copying the syntax of one character to another.</li>
<li><code>get-macro-character</code>: Getting the macro function associated with a character.</li>
<li><code>set-macro-character</code>: Setting the macro function associated with a character.</li>
<li><code>read</code>: How read interacts with the readtable.</li>
</ul>
<p><strong>5. Readtable Case:</strong></p>
<ul>
<li><code>*read-base*</code>: The input base for numbers.</li>
<li><code>*read-default-float-format*</code>: The default float format.</li>
<li><code>*readtable-case*</code>: Controlling case conversion during reading.</li>
<li><code>with-standard-io-syntax</code>: Restoring standard readtable settings.</li>
</ul>
<p><strong>6. Examples and Advanced Techniques:</strong></p>
<ul>
<li>Creating a simple domain-specific language.</li>
<li>Handling different date formats.</li>
<li>Implementing a custom comment syntax.</li>
</ul>
<p>This tutorial will provide clear explanations and practical examples to help you understand readtables and their applications. You&#x27;ll learn how to modify Lisp&#x27;s syntax and create custom parsing rules for various purposes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-introduction-to-readtables">1. Introduction to Readtables<a href="#1-introduction-to-readtables" class="hash-link" aria-label="Direct link to 1. Introduction to Readtables" title="Direct link to 1. Introduction to Readtables">​</a></h2>
<p>The <em>readtable</em> is a fundamental data structure in Common Lisp that governs how the Lisp reader parses textual input into Lisp objects. It&#x27;s the key to Lisp&#x27;s extensibility and its ability to support various syntaxes and domain-specific languages.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-what-is-a-readtable">1.1 What is a Readtable?<a href="#11-what-is-a-readtable" class="hash-link" aria-label="Direct link to 1.1 What is a Readtable?" title="Direct link to 1.1 What is a Readtable?">​</a></h3>
<p>A readtable is essentially a mapping from characters to their <em>syntax type</em> and associated <em>actions</em>. It tells the Lisp reader how to interpret each character it encounters during the reading process.</p>
<p>Each character in the character set has an associated syntax type within a given readtable. This syntax type determines how the reader treats the character. For instance, some characters are treated as whitespace, others as part of symbols, and still others trigger special parsing actions (these are called <em>macro characters</em>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-the-role-of-the-readtable-in-the-lisp-reader">1.2 The Role of the Readtable in the Lisp Reader<a href="#12-the-role-of-the-readtable-in-the-lisp-reader" class="hash-link" aria-label="Direct link to 1.2 The Role of the Readtable in the Lisp Reader" title="Direct link to 1.2 The Role of the Readtable in the Lisp Reader">​</a></h3>
<p>The Lisp reader is the part of the Lisp system that takes textual input (a stream of characters) and transforms it into Lisp objects (symbols, numbers, lists, strings, etc.). The readtable is the primary source of information for this transformation.</p>
<p>Here&#x27;s a simplified view of the reading process:</p>
<ol>
<li>The reader reads a character from the input stream.</li>
<li>It looks up the character in the current readtable.</li>
<li>Based on the character&#x27;s syntax type and any associated actions (reader macros), the reader performs the appropriate parsing steps.</li>
<li>This process continues until a complete Lisp object has been formed.</li>
<li>The reader returns the Lisp object.</li>
</ol>
<p>Without a readtable, the Lisp reader wouldn&#x27;t know how to interpret the characters it reads. The readtable provides the necessary context and rules for parsing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-the-current-readtable-readtable">1.3 The Current Readtable (<code>*readtable*</code>)<a href="#13-the-current-readtable-readtable" class="hash-link" aria-label="Direct link to 13-the-current-readtable-readtable" title="Direct link to 13-the-current-readtable-readtable">​</a></h3>
<p>The special variable <code>*readtable*</code> holds the <em>current readtable</em>. This is the readtable that the Lisp reader uses by default. You can inspect its value:</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*readtable* </span><span class="token comment" style="color:#999988;font-style:italic">; Returns the current readtable object.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The standard readtable is usually what you&#x27;ll be using. It defines the standard Lisp syntax that you&#x27;re familiar with.</p>
<p>It&#x27;s important to understand that <code>*readtable*</code> is a <em>dynamic variable</em>. This means that its value can be temporarily changed within a specific scope using <code>let</code> or other binding forms. This allows you to create local modifications to the readtable without affecting other parts of your program.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">copy-readtable</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Create a copy of the standard readtable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">; Modify the copied readtable here...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#| This is a test |#&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Will still work because the copy is based on the standard readtable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#| This is a test |#&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Will still work because *readtable* was not modified directly</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>copy-readtable</code> is used to create a new readtable that is a copy of an existing one. If its argument is <code>nil</code> it will create a copy of the standard readtable. This is crucial when you want to modify the readtable, as modifying <code>*readtable*</code> directly would affect all subsequent reading operations in your Lisp session.</p>
<p>In summary, the readtable is a data structure that maps characters to their syntax types and associated actions, guiding the Lisp reader in parsing textual input. <code>*readtable*</code> holds the current readtable, and it&#x27;s essential to create copies of the readtable before modifying it. The next section will delve into the different character syntax types.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-character-syntax">2. Character Syntax<a href="#2-character-syntax" class="hash-link" aria-label="Direct link to 2. Character Syntax" title="Direct link to 2. Character Syntax">​</a></h2>
<p>The readtable assigns a <em>syntax type</em> to each character, determining how the Lisp reader interprets it. This section describes the different character syntax types.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-constituent-characters">2.1 Constituent Characters<a href="#21-constituent-characters" class="hash-link" aria-label="Direct link to 2.1 Constituent Characters" title="Direct link to 2.1 Constituent Characters">​</a></h3>
<p><em>Constituent characters</em> are used to form symbols and numbers. They include:</p>
<ul>
<li>Uppercase and lowercase letters (A-Z, a-z).</li>
<li>Digits (0-9).</li>
<li>Certain punctuation characters: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>@</code>, <code>$</code>, <code>%</code>, <code>^</code>, <code>&amp;</code>, <code>_</code>, <code>=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>.</code>.</li>
</ul>
<p>When the reader encounters a sequence of constituent characters, it forms a <em>token</em>. This token is then interpreted as either a symbol or a number, depending on its form. For example, <code>foo</code>, <code>Bar123</code>, and <code>+count</code> are all valid symbols. <code>123</code>, <code>-45</code>, and <code>3.14</code> are interpreted as numbers.</p>
<p>By default, the Lisp reader converts lowercase letters in symbols to uppercase. So, <code>foo</code>, <code>Foo</code>, and <code>FOO</code> are all read as the same symbol: <code>FOO</code>. This behavior is controlled by the <code>*readtable-case*</code> variable, which we&#x27;ll discuss later.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-whitespace-characters">2.2 Whitespace Characters<a href="#22-whitespace-characters" class="hash-link" aria-label="Direct link to 2.2 Whitespace Characters" title="Direct link to 2.2 Whitespace Characters">​</a></h3>
<p><em>Whitespace characters</em> are used to separate tokens. They are ignored by the reader except for their role as separators. The standard whitespace characters are:</p>
<ul>
<li>Space.</li>
<li>Tab.</li>
<li>Newline (line feed).</li>
<li>Form feed.</li>
</ul>
<p>Multiple whitespace characters are treated as a single separator.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-macro-characters">2.3 Macro Characters<a href="#23-macro-characters" class="hash-link" aria-label="Direct link to 2.3 Macro Characters" title="Direct link to 2.3 Macro Characters">​</a></h3>
<p><em>Macro characters</em> trigger special parsing actions. They are associated with <em>reader macros</em>, which are functions that define how the character and the subsequent input should be interpreted.</p>
<p>There are two main types of macro characters:</p>
<ul>
<li>Terminating macro characters</li>
<li>Non-terminating macro characters</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-terminating-macro-characters">2.4 Terminating Macro Characters<a href="#24-terminating-macro-characters" class="hash-link" aria-label="Direct link to 2.4 Terminating Macro Characters" title="Direct link to 2.4 Terminating Macro Characters">​</a></h3>
<p><em>Terminating macro characters</em> cause the reader to stop forming the current token and perform a specific action. They effectively terminate the current token.</p>
<p>Some standard terminating macro characters include:</p>
<ul>
<li><code>(</code>: Starts a list.</li>
<li><code>)</code>: Ends a list.</li>
<li><code>&quot;</code>: Starts and ends a string.</li>
<li><code>;</code>: Starts a comment (until the end of the line).</li>
</ul>
<p>When the reader encounters a terminating macro character, it executes the associated reader macro function. This function might read further input, create a Lisp object, and return it.</p>
<p>For example, when the reader encounters <code>(</code>, the associated reader macro reads subsequent input until a matching <code>)</code> is found and constructs a list.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-non-terminating-macro-characters">2.5 Non-Terminating Macro Characters<a href="#25-non-terminating-macro-characters" class="hash-link" aria-label="Direct link to 2.5 Non-Terminating Macro Characters" title="Direct link to 2.5 Non-Terminating Macro Characters">​</a></h3>
<p><em>Non-terminating macro characters</em> do not terminate the current token. They trigger a specific action but allow the reader to continue forming the token.</p>
<p>Some standard non-terminating macro characters include:</p>
<ul>
<li><code>&#x27;</code>: The quote character. It&#x27;s a shorthand for <code>(quote ...)</code>.</li>
<li><code>#</code>: The sharp sign. It&#x27;s used for various purposes, including reading special constants, character literals, and reader macros.</li>
<li><code>,</code>: The comma. Used in conjunction with <code>#</code> for quasiquoting.</li>
</ul>
<p>For example, when the reader encounters <code>&#x27;x</code>, the associated reader macro converts it to <code>(quote x)</code>. The reader then continues processing the rest of the input.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="26-multiple-escape-characters">2.6 Multiple Escape Characters<a href="#26-multiple-escape-characters" class="hash-link" aria-label="Direct link to 2.6 Multiple Escape Characters" title="Direct link to 2.6 Multiple Escape Characters">​</a></h3>
<p>The backslash character <code>\</code> is the <em>escape character</em>. It&#x27;s used to include characters in symbols or strings that would otherwise have special meaning.</p>
<ul>
<li>Inside symbols, <code>\</code> allows you to include whitespace, macro characters, or lowercase letters. For instance, <code>My\ Variable</code> is read as the symbol <code>My Variable</code>, and <code>\|MixedCaseSymbol\|</code> is read as the symbol <code>MixedCaseSymbol</code>.</li>
<li>Inside strings, <code>\</code> has similar uses, and also allows for escape sequences like <code>\n</code> (newline), <code>\t</code> (tab), <code>\&quot;</code> (double quote), and <code>\\</code> (backslash).</li>
</ul>
<p>Vertical bars <code>||</code> can also be used as escape characters. Everything between two vertical bars is read as a symbol, without case conversion.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token quoted-symbol variable symbol" style="color:#36acaa">&#x27;My</span><span class="token plain">\ Symbol </span><span class="token comment" style="color:#999988;font-style:italic">; Reads as the symbol My Symbol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;|My Symbol| </span><span class="token comment" style="color:#999988;font-style:italic">; Reads as the symbol My Symbol (preserves case)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;This is a \&quot;quoted\&quot; string.\n&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; String with escaped quotes and newline</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Understanding character syntax is fundamental to understanding how the Lisp reader works. The next section will focus on reader macros, which provide the mechanism for customizing the reader&#x27;s behavior.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-reader-macros">3. Reader Macros<a href="#3-reader-macros" class="hash-link" aria-label="Direct link to 3. Reader Macros" title="Direct link to 3. Reader Macros">​</a></h2>
<p><em>Reader macros</em> are functions associated with specific characters in the readtable. When the Lisp reader encounters a macro character, it invokes the corresponding reader macro function to perform custom parsing actions. This is the mechanism that allows you to extend and customize the Lisp syntax.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-what-are-reader-macros">3.1 What are Reader Macros?<a href="#31-what-are-reader-macros" class="hash-link" aria-label="Direct link to 3.1 What are Reader Macros?" title="Direct link to 3.1 What are Reader Macros?">​</a></h3>
<p>A reader macro is a function that takes two arguments:</p>
<ol>
<li>The input stream from which characters are being read.</li>
<li>The character that triggered the macro (the macro character itself).</li>
</ol>
<p>The reader macro function can then perform any necessary actions, such as:</p>
<ul>
<li>Reading more characters from the input stream.</li>
<li>Creating Lisp objects.</li>
<li>Returning the created object.</li>
</ul>
<p>The reader then uses the returned object as part of the Lisp code being read.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-defining-reader-macros-using-set-macro-character">3.2 Defining Reader Macros using <code>set-macro-character</code><a href="#32-defining-reader-macros-using-set-macro-character" class="hash-link" aria-label="Direct link to 32-defining-reader-macros-using-set-macro-character" title="Direct link to 32-defining-reader-macros-using-set-macro-character">​</a></h3>
<p>The <code>set-macro-character</code> function is used to associate a reader macro function with a character. Its syntax is:</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> char function &amp;optional non-terminating-p readtable</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong><code>char</code></strong>: The character to which the macro is being assigned.</li>
<li><strong><code>function</code></strong>: The reader macro function.</li>
<li><strong><code>non-terminating-p</code></strong>: A boolean indicating whether the macro character is non-terminating (defaults to <code>nil</code>, meaning terminating).</li>
<li><strong><code>readtable</code></strong>: The readtable to modify (defaults to <code>*readtable*</code>).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-examples-of-standard-reader-macros">3.3 Examples of Standard Reader Macros<a href="#33-examples-of-standard-reader-macros" class="hash-link" aria-label="Direct link to 3.3 Examples of Standard Reader Macros" title="Direct link to 3.3 Examples of Standard Reader Macros">​</a></h3>
<p>Here are some examples of standard reader macros and what they do:</p>
<ul>
<li>
<p><strong><code>&#x27;</code> (Quote):</strong> The quote character is a non-terminating macro character. Its reader macro transforms <code>&#x27;x</code> into <code>(quote x)</code>.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&#x27;hello&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns (QUOTE HELLO)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong><code>#</code> (Sharp-sign):</strong> The sharp-sign is a non-terminating macro character used for various purposes. It has many sub-macros.</p>
<ul>
<li><code>#\</code>: Used for character literals. <code>#\A</code> reads as the character object <code>#\A</code>.</li>
</ul>
</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#\A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns #\A</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>#(</code>: Used for vectors. <code>#(1 2 3)</code> reads as a vector containing the numbers 1, 2, and 3.</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#(1 2 3)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns #(1 2 3)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>#| ... |#</code>: Used for block comments. The reader ignores everything between <code>#|</code> and <code>|#</code>.</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#| This is a block comment |# 123&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 123</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>#:symbol</code>: Creates an uninterned symbol (a <em>gensym</em>).</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#:foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns a freshly generated symbol.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>**,<code>(Comma):** The comma is used in conjunction with</code>#` for <em>quasiquoting</em>. It&#x27;s a non-terminating macro character.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">x</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">`(</span><span class="token car">a</span><span class="token plain"> b </span><span class="token splice symbol variable" style="color:#36acaa">,x</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; returns (A B 10 C)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34-defining-custom-reader-macros">3.4 Defining Custom Reader Macros<a href="#34-defining-custom-reader-macros" class="hash-link" aria-label="Direct link to 3.4 Defining Custom Reader Macros" title="Direct link to 3.4 Defining Custom Reader Macros">​</a></h3>
<p>Here&#x27;s an example of defining a custom reader macro that reads dates in the format YYYY-MM-DD:</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token defun keyword" style="color:#00009f">defun</span><span class="token defun"> </span><span class="token defun function" style="color:#d73a49">read-date</span><span class="token defun"> </span><span class="token defun punctuation" style="color:#393A34">(</span><span class="token defun arguments argument variable" style="color:#36acaa">stream</span><span class="token defun arguments"> </span><span class="token defun arguments argument variable" style="color:#36acaa">char</span><span class="token defun punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; We don&#x27;t need the macro character itself</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">year</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">dash1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">month</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">dash2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">day</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">when</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">eq</span><span class="token plain"> dash1 #\-</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">eq</span><span class="token plain"> dash2 #\-</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">list</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:year</span><span class="token plain"> year </span><span class="token lisp-property property" style="color:#36acaa">:month</span><span class="token plain"> month </span><span class="token lisp-property property" style="color:#36acaa">:day</span><span class="token plain"> day</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">error</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Invalid date format.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\@ </span><span class="token quoted-symbol variable symbol" style="color:#36acaa">#&#x27;read-date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Set @ as the macro character</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@2024-10-27&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns (:YEAR 2024 :MONTH 10 :DAY 27)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example:</p>
<ol>
<li><code>read-date</code> is the reader macro function. It reads the year, two dashes, the month and the day.</li>
<li><code>set-macro-character</code> associates the <code>@</code> character with the <code>read-date</code> function.</li>
<li>Now, when the reader encounters <code>@2024-10-27</code>, it calls <code>read-date</code>, which parses the input and returns a list representing the date.</li>
</ol>
<p>Another Example: Reading hexadecimal numbers prefixed by <code>$</code>:</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token defun keyword" style="color:#00009f">defun</span><span class="token defun"> </span><span class="token defun function" style="color:#d73a49">read-hex-number</span><span class="token defun"> </span><span class="token defun punctuation" style="color:#393A34">(</span><span class="token defun arguments argument variable" style="color:#36acaa">stream</span><span class="token defun arguments"> </span><span class="token defun arguments argument variable" style="color:#36acaa">char</span><span class="token defun punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">token</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-token</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">parse-integer</span><span class="token plain"> token </span><span class="token lisp-property property" style="color:#36acaa">:radix</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token defun keyword" style="color:#00009f">defun</span><span class="token defun"> </span><span class="token defun function" style="color:#d73a49">read-token</span><span class="token defun"> </span><span class="token defun punctuation" style="color:#393A34">(</span><span class="token defun arguments argument variable" style="color:#36acaa">stream</span><span class="token defun punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">with-output-to-string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">loop</span><span class="token plain"> for char = </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">peek-char</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> stream </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> char </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">digit-char-p</span><span class="token plain"> char </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            do </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">write-char</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\$ </span><span class="token quoted-symbol variable symbol" style="color:#36acaa">#&#x27;read-hex-number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$FF&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 255</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$1A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 26</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Reader macros are a powerful way to customize Lisp syntax. They allow you to define concise and expressive notations for your data and programs. This section covered how to define reader macros and provided examples of both standard and custom macros. The next section will cover readtable functions and other related concepts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-readtable-functions">4. Readtable Functions<a href="#4-readtable-functions" class="hash-link" aria-label="Direct link to 4. Readtable Functions" title="Direct link to 4. Readtable Functions">​</a></h2>
<p>This section details functions for manipulating readtables, allowing you to create, modify, and inspect them.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-copy-readtable-creating-copies-of-readtables">4.1 <code>copy-readtable</code>: Creating Copies of Readtables<a href="#41-copy-readtable-creating-copies-of-readtables" class="hash-link" aria-label="Direct link to 41-copy-readtable-creating-copies-of-readtables" title="Direct link to 41-copy-readtable-creating-copies-of-readtables">​</a></h3>
<p>The <code>copy-readtable</code> function creates a new readtable that is a copy of an existing one. This is crucial when you want to modify a readtable without affecting other parts of your program or the standard Lisp syntax.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">copy-readtable</span><span class="token plain"> &amp;optional from-readtable to-readtable</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong><code>from-readtable</code></strong>: The readtable to copy (defaults to <code>*readtable*</code>).</li>
<li><strong><code>to-readtable</code></strong>: The readtable to copy to. If it is <code>nil</code> a new readtable is created, otherwise the <code>from-readtable</code> is copied to the <code>to-readtable</code> (defaults to <code>nil</code>).</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">my-readtable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">copy-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">; Modify my-readtable...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\! #</span><span class="token punctuation" style="color:#393A34">&#x27;(</span><span class="token lambda keyword" style="color:#00009f">lambda</span><span class="token lambda"> </span><span class="token lambda punctuation" style="color:#393A34">(</span><span class="token lambda arguments argument variable" style="color:#36acaa">stream</span><span class="token lambda arguments"> </span><span class="token lambda arguments argument variable" style="color:#36acaa">char</span><span class="token lambda punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> stream char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bang!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> my-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test!&quot;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:start</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:end</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:readtable</span><span class="token plain"> my-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns &quot;Bang!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test!&quot;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:start</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:end</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Signals an error because ! is not a macro character in the default readtable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, we create a copy of the current readtable and bind it to <code>my-readtable</code>. Then, we modify <code>my-readtable</code> by setting <code>!</code> as a macro character. The use of <code>read-from-string</code> with the keyword argument <code>:readtable</code> is necessary to use the modified readtable. The standard readtable remains unchanged.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-set-syntax-from-char-copying-the-syntax-of-one-character-to-another">4.2 <code>set-syntax-from-char</code>: Copying the Syntax of One Character to Another<a href="#42-set-syntax-from-char-copying-the-syntax-of-one-character-to-another" class="hash-link" aria-label="Direct link to 42-set-syntax-from-char-copying-the-syntax-of-one-character-to-another" title="Direct link to 42-set-syntax-from-char-copying-the-syntax-of-one-character-to-another">​</a></h3>
<p>The <code>set-syntax-from-char</code> function copies the syntax of one character to another within a given readtable.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-syntax-from-char</span><span class="token plain"> to-char from-char &amp;optional readtable</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong><code>to-char</code></strong>: The character to which the syntax will be copied.</li>
<li><strong><code>from-char</code></strong>: The character from which the syntax will be copied.</li>
<li><strong><code>readtable</code></strong>: The readtable to modify (defaults to <code>*readtable*</code>).</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">my-readtable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">copy-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-syntax-from-char</span><span class="token plain"> #\$ #\% my-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Make $ have the same syntax as %</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Will now signal an error because % is not a valid character in numbers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, we make <code>$</code> have the same syntax as <code>%</code>. This is a quick way to make one character behave like another without having to define a new reader macro.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-get-macro-character-getting-the-macro-function-associated-with-a-character">4.3 <code>get-macro-character</code>: Getting the Macro Function Associated with a Character<a href="#43-get-macro-character-getting-the-macro-function-associated-with-a-character" class="hash-link" aria-label="Direct link to 43-get-macro-character-getting-the-macro-function-associated-with-a-character" title="Direct link to 43-get-macro-character-getting-the-macro-function-associated-with-a-character">​</a></h3>
<p>The <code>get-macro-character</code> function retrieves the macro function associated with a given character in a readtable.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">get-macro-character</span><span class="token plain"> char &amp;optional readtable</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong><code>char</code></strong>: The character for which to retrieve the macro function.</li>
<li><strong><code>readtable</code></strong>: The readtable to check (defaults to <code>*readtable*</code>).</li>
</ul>
<p>It returns two values:</p>
<ol>
<li>The macro function (or <code>nil</code> if the character is not a macro character).</li>
<li>A boolean indicating whether the character is a non-terminating macro character.</li>
</ol>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">get-macro-character</span><span class="token plain"> #\&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns the quote macro function and T</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">get-macro-character</span><span class="token plain"> #\a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns NIL and NIL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-set-macro-character-setting-the-macro-function-associated-with-a-character">4.4 <code>set-macro-character</code>: Setting the Macro Function Associated with a Character<a href="#44-set-macro-character-setting-the-macro-function-associated-with-a-character" class="hash-link" aria-label="Direct link to 44-set-macro-character-setting-the-macro-function-associated-with-a-character" title="Direct link to 44-set-macro-character-setting-the-macro-function-associated-with-a-character">​</a></h3>
<p>We already saw this function in the previous section. The <code>set-macro-character</code> function associates a reader macro function with a character in a readtable.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> char function &amp;optional non-terminating-p readtable</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong><code>char</code></strong>: The character to which the macro is being assigned.</li>
<li><strong><code>function</code></strong>: The reader macro function.</li>
<li><strong><code>non-terminating-p</code></strong>: A boolean indicating whether the macro character is non-terminating (defaults to <code>nil</code>, meaning terminating).</li>
<li><strong><code>readtable</code></strong>: The readtable to modify (defaults to <code>*readtable*</code>).</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\! #</span><span class="token punctuation" style="color:#393A34">&#x27;(</span><span class="token lambda keyword" style="color:#00009f">lambda</span><span class="token lambda"> </span><span class="token lambda punctuation" style="color:#393A34">(</span><span class="token lambda arguments argument variable" style="color:#36acaa">stream</span><span class="token lambda arguments"> </span><span class="token lambda arguments argument variable" style="color:#36acaa">char</span><span class="token lambda punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> stream char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bang!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns &quot;Bang!&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="45-read-how-read-interacts-with-the-readtable">4.5 <code>read</code>: How <code>read</code> Interacts with the Readtable<a href="#45-read-how-read-interacts-with-the-readtable" class="hash-link" aria-label="Direct link to 45-read-how-read-interacts-with-the-readtable" title="Direct link to 45-read-how-read-interacts-with-the-readtable">​</a></h3>
<p>The <code>read</code> function is the core function for parsing Lisp objects from an input stream. It uses the current readtable (<code>*readtable*</code>) to interpret the input.</p>
<p>When <code>read</code> encounters a character:</p>
<ol>
<li>It looks up the character in the current readtable.</li>
<li>If the character is a whitespace character, it&#x27;s skipped.</li>
<li>If the character is a constituent character, <code>read</code> starts forming a token (a symbol or number).</li>
<li>If the character is a macro character, the associated reader macro function is called. The reader macro function can then read more characters, create Lisp objects, and return them.</li>
<li>This process repeats until a complete Lisp object has been parsed.</li>
</ol>
<p><code>read</code> takes several optional arguments, including <code>:stream</code>, <code>:eof-error-p</code>, <code>:eof-value</code>, and <code>:recursive</code>. The <code>:readtable</code> keyword argument allows you to specify a different readtable than <code>*readtable*</code>.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">my-readtable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">copy-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\! #</span><span class="token punctuation" style="color:#393A34">&#x27;(</span><span class="token lambda keyword" style="color:#00009f">lambda</span><span class="token lambda"> </span><span class="token lambda punctuation" style="color:#393A34">(</span><span class="token lambda arguments argument variable" style="color:#36acaa">stream</span><span class="token lambda arguments"> </span><span class="token lambda arguments argument variable" style="color:#36acaa">char</span><span class="token lambda punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> stream char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bang!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> my-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test!&quot;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:start</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:end</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:readtable</span><span class="token plain"> my-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns &quot;Bang!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">with-input-from-string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">stream</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:readtable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">my-readtable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">copy-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\! #</span><span class="token punctuation" style="color:#393A34">&#x27;(</span><span class="token lambda keyword" style="color:#00009f">lambda</span><span class="token lambda"> </span><span class="token lambda punctuation" style="color:#393A34">(</span><span class="token lambda arguments argument variable" style="color:#36acaa">stream</span><span class="token lambda arguments"> </span><span class="token lambda arguments argument variable" style="color:#36acaa">char</span><span class="token lambda punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> stream char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bang!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> my-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        my-readtable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns &quot;Bang!&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Understanding how <code>read</code> interacts with the readtable is essential for customizing Lisp syntax and creating domain-specific languages. This section covered the key readtable functions and explained how <code>read</code> uses the readtable to parse input. The next section will cover readtable case and related concepts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-readtable-case-and-related-variables">5. Readtable Case and Related Variables<a href="#5-readtable-case-and-related-variables" class="hash-link" aria-label="Direct link to 5. Readtable Case and Related Variables" title="Direct link to 5. Readtable Case and Related Variables">​</a></h2>
<p>This section covers variables that influence the reading process, particularly how case is handled and how numbers are interpreted.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-read-base-the-input-base-for-numbers">5.1 <code>*read-base*</code>: The Input Base for Numbers<a href="#51-read-base-the-input-base-for-numbers" class="hash-link" aria-label="Direct link to 51-read-base-the-input-base-for-numbers" title="Direct link to 51-read-base-the-input-base-for-numbers">​</a></h3>
<p>The <code>*read-base*</code> special variable controls the radix (base) used when reading numbers. It can be set to any integer between 2 and 36 (inclusive).</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*read-base* </span><span class="token comment" style="color:#999988;font-style:italic">; Returns the current read base (usually 10).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*read-base*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1011&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 11 (binary 1011)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*read-base*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FF&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 255 (hexadecimal FF)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*read-base*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;77&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 63 (octal 77)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It&#x27;s important to use <code>let</code> to bind <code>*read-base*</code> locally, as changing it globally would affect all subsequent reading operations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-read-default-float-format-the-default-float-format">5.2 <code>*read-default-float-format*</code>: The Default Float Format<a href="#52-read-default-float-format-the-default-float-format" class="hash-link" aria-label="Direct link to 52-read-default-float-format-the-default-float-format" title="Direct link to 52-read-default-float-format-the-default-float-format">​</a></h3>
<p>The <code>*read-default-float-format*</code> special variable determines the default floating-point format used when reading floating-point numbers without an explicit exponent marker. The possible values are:</p>
<ul>
<li><code>short-float</code></li>
<li><code>single-float</code> (the default)</li>
<li><code>double-float</code></li>
<li><code>long-float</code></li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*read-default-float-format* </span><span class="token comment" style="color:#999988;font-style:italic">; Returns SINGLE-FLOAT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*read-default-float-format*</span><span class="token plain"> </span><span class="token quoted-symbol variable symbol" style="color:#36acaa">&#x27;double-float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">type-of</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.1415926535897932384626433832795&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns DOUBLE-FLOAT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">type-of</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.1415926535897932384626433832795d0&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns DOUBLE-FLOAT (explicit exponent marker)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*read-default-float-format*</span><span class="token plain"> </span><span class="token quoted-symbol variable symbol" style="color:#36acaa">&#x27;short-float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">type-of</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.14&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns SHORT-FLOAT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, it&#x27;s crucial to bind this variable locally using <code>let</code> to avoid unintended side effects. If an exponent marker is used (e.g., <code>1.0d0</code>, <code>1.0e0</code>, <code>1.0f0</code>, <code>1.0s0</code>), the format specified by the marker will override the value of <code>*read-default-float-format*</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-readtable-case-controlling-case-conversion-during-reading">5.3 <code>*readtable-case*</code>: Controlling Case Conversion During Reading<a href="#53-readtable-case-controlling-case-conversion-during-reading" class="hash-link" aria-label="Direct link to 53-readtable-case-controlling-case-conversion-during-reading" title="Direct link to 53-readtable-case-controlling-case-conversion-during-reading">​</a></h3>
<p>The <code>*readtable-case*</code> special variable controls how the Lisp reader handles the case of characters when reading symbols. It can have one of the following values:</p>
<ul>
<li><code>:upcase</code> (the default): Converts all lowercase letters in symbols to uppercase.</li>
<li><code>:downcase</code>: Converts all uppercase letters in symbols to lowercase.</li>
<li><code>:preserve</code>: Preserves the case of letters in symbols.</li>
<li><code>:invert</code>: Inverts the case of letters in symbols (uppercase becomes lowercase, and vice versa).</li>
</ul>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*readtable-case* </span><span class="token comment" style="color:#999988;font-style:italic">; Returns :UPCASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns FOO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns FOO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FOO&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns FOO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:downcase</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns FOO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:downcase</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:downcase</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FOO&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:preserve</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns FOO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:preserve</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns Foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:preserve</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FOO&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns FOO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:invert</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:invert</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns fOO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:invert</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FOO&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Like the other variables, <code>*readtable-case*</code> should be bound locally using <code>let</code> to avoid unintended global changes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-with-standard-io-syntax-restoring-standard-readtable-settings">5.4 <code>with-standard-io-syntax</code>: Restoring Standard Readtable Settings<a href="#54-with-standard-io-syntax-restoring-standard-readtable-settings" class="hash-link" aria-label="Direct link to 54-with-standard-io-syntax-restoring-standard-readtable-settings" title="Direct link to 54-with-standard-io-syntax-restoring-standard-readtable-settings">​</a></h3>
<p>The <code>with-standard-io-syntax</code> macro provides a convenient way to establish a standard I/O syntax, ensuring that the readtable and related variables are set to their standard values. This is especially useful when you&#x27;ve made modifications to the readtable or related variables and want to ensure consistent behavior in a specific part of your code.</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*read-base*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">*readtable-case*</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:downcase</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">format</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Reading in non-standard syntax:~%&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">format</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Binary 1011: ~a~%&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1011&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">format</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Symbol Foo: ~a~%&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">with-standard-io-syntax</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">format</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;~%Reading in standard syntax:~%&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">format</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Decimal 1011: ~a~%&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1011&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">format</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">t</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Symbol Foo: ~a~%&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Foo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">; Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">; Reading in non-standard syntax:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">; Binary 1011: 11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">; Symbol Foo: foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">; Reading in standard syntax:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">; Decimal 1011: 1011</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">; Symbol Foo: FOO</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>with-standard-io-syntax</code> is highly recommended when reading or writing data that needs to be portable or when interacting with external systems that expect standard Lisp syntax. It ensures that your code behaves consistently regardless of any modifications to the global I/O settings. This concludes the tutorial on readtables and associated concepts. You should now have a good understanding of how the Lisp reader works and how to customize it for various purposes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-examples-and-advanced-techniques-with-readtables">6. Examples and Advanced Techniques with Readtables<a href="#6-examples-and-advanced-techniques-with-readtables" class="hash-link" aria-label="Direct link to 6. Examples and Advanced Techniques with Readtables" title="Direct link to 6. Examples and Advanced Techniques with Readtables">​</a></h2>
<p>This section demonstrates some practical applications of readtables and reader macros, including creating a simple domain-specific language (DSL), handling different date formats, and implementing a custom comment syntax.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-creating-a-simple-domain-specific-language">6.1 Creating a Simple Domain-Specific Language<a href="#61-creating-a-simple-domain-specific-language" class="hash-link" aria-label="Direct link to 6.1 Creating a Simple Domain-Specific Language" title="Direct link to 6.1 Creating a Simple Domain-Specific Language">​</a></h3>
<p>Reader macros are ideal for creating small DSLs within Common Lisp. This example creates a DSL for defining simple geometric points:</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token defun keyword" style="color:#00009f">defun</span><span class="token defun"> </span><span class="token defun function" style="color:#d73a49">read-point</span><span class="token defun"> </span><span class="token defun punctuation" style="color:#393A34">(</span><span class="token defun arguments argument variable" style="color:#36acaa">stream</span><span class="token defun arguments"> </span><span class="token defun arguments argument variable" style="color:#36acaa">char</span><span class="token defun punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">x</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">comma</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">y</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">close-paren</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">eql</span><span class="token plain"> comma #\,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">eql</span><span class="token plain"> close-paren #\</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">list</span><span class="token plain"> </span><span class="token lisp-property property" style="color:#36acaa">:x</span><span class="token plain"> x </span><span class="token lisp-property property" style="color:#36acaa">:y</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">error</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Invalid point syntax&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token quoted-symbol variable symbol" style="color:#36acaa">#&#x27;read-point</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[10,20]&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns (:X 10 :Y 20)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[5, -3]&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns (:X 5 :Y -3)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[1,2,3]&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Signals an error</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here&#x27;s how it works:</p>
<ol>
<li><code>read-point</code> is the reader macro function. It reads an opening bracket <code>[</code>, the x-coordinate, a comma, the y-coordinate, and a closing parenthesis <code>)</code>.</li>
<li><code>set-macro-character</code> associates the <code>[</code> character with the <code>read-point</code> function.</li>
<li>Now, when the reader encounters <code>[10,20]</code>, it calls <code>read-point</code>, which parses the input and returns a list representing the point.</li>
</ol>
<p>This simple example demonstrates how you can create a concise and readable syntax for a specific domain.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-handling-different-date-formats">6.2 Handling Different Date Formats<a href="#62-handling-different-date-formats" class="hash-link" aria-label="Direct link to 6.2 Handling Different Date Formats" title="Direct link to 6.2 Handling Different Date Formats">​</a></h3>
<p>Reader macros can also be used to handle various date formats. This example handles dates in the YYYY/MM/DD format:</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token defun keyword" style="color:#00009f">defun</span><span class="token defun"> </span><span class="token defun function" style="color:#d73a49">read-date</span><span class="token defun"> </span><span class="token defun punctuation" style="color:#393A34">(</span><span class="token defun arguments argument variable" style="color:#36acaa">stream</span><span class="token defun arguments"> </span><span class="token defun arguments argument variable" style="color:#36acaa">char</span><span class="token defun punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">year</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">slash1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">month</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">slash2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">day</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read</span><span class="token plain"> stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">eql</span><span class="token plain"> slash1 #\/</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">eql</span><span class="token plain"> slash2 #\/</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">encode-universal-time</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> day month year</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Convert to universal time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">error</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Invalid date format&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\&lt; </span><span class="token quoted-symbol variable symbol" style="color:#36acaa">#&#x27;read-date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;2024/10/27&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns a universal time representation of the date</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This example is similar to the previous one, but it uses <code>/</code> as separators and converts the date to a universal time representation using <code>encode-universal-time</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-implementing-a-custom-comment-syntax">6.3 Implementing a Custom Comment Syntax<a href="#63-implementing-a-custom-comment-syntax" class="hash-link" aria-label="Direct link to 6.3 Implementing a Custom Comment Syntax" title="Direct link to 6.3 Implementing a Custom Comment Syntax">​</a></h3>
<p>You can also use reader macros to implement custom comment syntaxes. This example implements comments that start with <code>;;;</code> and continue to the end of the line:</p>
<div class="language-lisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lisp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token defun keyword" style="color:#00009f">defun</span><span class="token defun"> </span><span class="token defun function" style="color:#d73a49">read-custom-comment</span><span class="token defun"> </span><span class="token defun punctuation" style="color:#393A34">(</span><span class="token defun arguments argument variable" style="color:#36acaa">stream</span><span class="token defun arguments"> </span><span class="token defun arguments argument variable" style="color:#36acaa">char</span><span class="token defun punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token declare keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">ignore</span><span class="token plain"> char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">loop</span><span class="token plain"> for char = </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-char</span><span class="token plain"> stream </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Read until end of line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        until </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">eql</span><span class="token plain"> char #\Newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">values</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Return no values (effectively skipping the comment)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">set-macro-character</span><span class="token plain"> #\</span><span class="token comment" style="color:#999988;font-style:italic">; #&#x27;read-custom-comment nil) ; Make ; a non-terminating macro char</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;;;; This is a custom comment\n123&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token car">read-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;;;; This is a comment 456&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">; Returns 456</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here&#x27;s how it works:</p>
<ol>
<li><code>read-custom-comment</code> reads characters from the stream until it encounters a newline or the end of the file.</li>
<li><code>set-macro-character</code> associates the <code>;</code> character with the <code>read-custom-comment</code> function and sets the third argument to <code>nil</code> to make it a terminating macro character.</li>
<li>Because the function returns no values, the reader effectively skips the comment.</li>
</ol>
<p>This example demonstrates how to implement a comment syntax that&#x27;s different from the standard single semicolon comment.</p>
<p><strong>Important Notes:</strong></p>
<ul>
<li>Modifying the standard readtable can have far-reaching consequences. It&#x27;s almost always best to create a copy of the readtable using <code>copy-readtable</code> before making any changes.</li>
<li>Reader macros can make code harder to read if overused. Use them judiciously and document them well.</li>
<li>The <code>with-standard-io-syntax</code> macro is essential for ensuring standard syntax when needed.</li>
</ul>
<p>These examples illustrate the power and flexibility of readtables and reader macros. They allow you to customize the Lisp reader to handle various input formats and even create small domain-specific languages. This concludes the tutorial on readtables and associated concepts.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lisp-docs/lisp-docs.github.io/tree/main/docs/tutorial/advanced_topics/readtables.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> by <b>Daniel Nussenbaum</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorial/advanced_topics/mop"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MetaObject Protocol</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorial/for_beginners"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Common Lisp for Beginner Programmers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-to-readtables-and-associated-concepts-in-common-lisp" class="table-of-contents__link toc-highlight">Introduction to Readtables and Associated Concepts in Common Lisp</a></li><li><a href="#1-introduction-to-readtables" class="table-of-contents__link toc-highlight">1. Introduction to Readtables</a><ul><li><a href="#11-what-is-a-readtable" class="table-of-contents__link toc-highlight">1.1 What is a Readtable?</a></li><li><a href="#12-the-role-of-the-readtable-in-the-lisp-reader" class="table-of-contents__link toc-highlight">1.2 The Role of the Readtable in the Lisp Reader</a></li><li><a href="#13-the-current-readtable-readtable" class="table-of-contents__link toc-highlight">1.3 The Current Readtable (<code>*readtable*</code>)</a></li></ul></li><li><a href="#2-character-syntax" class="table-of-contents__link toc-highlight">2. Character Syntax</a><ul><li><a href="#21-constituent-characters" class="table-of-contents__link toc-highlight">2.1 Constituent Characters</a></li><li><a href="#22-whitespace-characters" class="table-of-contents__link toc-highlight">2.2 Whitespace Characters</a></li><li><a href="#23-macro-characters" class="table-of-contents__link toc-highlight">2.3 Macro Characters</a></li><li><a href="#24-terminating-macro-characters" class="table-of-contents__link toc-highlight">2.4 Terminating Macro Characters</a></li><li><a href="#25-non-terminating-macro-characters" class="table-of-contents__link toc-highlight">2.5 Non-Terminating Macro Characters</a></li><li><a href="#26-multiple-escape-characters" class="table-of-contents__link toc-highlight">2.6 Multiple Escape Characters</a></li></ul></li><li><a href="#3-reader-macros" class="table-of-contents__link toc-highlight">3. Reader Macros</a><ul><li><a href="#31-what-are-reader-macros" class="table-of-contents__link toc-highlight">3.1 What are Reader Macros?</a></li><li><a href="#32-defining-reader-macros-using-set-macro-character" class="table-of-contents__link toc-highlight">3.2 Defining Reader Macros using <code>set-macro-character</code></a></li><li><a href="#33-examples-of-standard-reader-macros" class="table-of-contents__link toc-highlight">3.3 Examples of Standard Reader Macros</a></li><li><a href="#34-defining-custom-reader-macros" class="table-of-contents__link toc-highlight">3.4 Defining Custom Reader Macros</a></li></ul></li><li><a href="#4-readtable-functions" class="table-of-contents__link toc-highlight">4. Readtable Functions</a><ul><li><a href="#41-copy-readtable-creating-copies-of-readtables" class="table-of-contents__link toc-highlight">4.1 <code>copy-readtable</code>: Creating Copies of Readtables</a></li><li><a href="#42-set-syntax-from-char-copying-the-syntax-of-one-character-to-another" class="table-of-contents__link toc-highlight">4.2 <code>set-syntax-from-char</code>: Copying the Syntax of One Character to Another</a></li><li><a href="#43-get-macro-character-getting-the-macro-function-associated-with-a-character" class="table-of-contents__link toc-highlight">4.3 <code>get-macro-character</code>: Getting the Macro Function Associated with a Character</a></li><li><a href="#44-set-macro-character-setting-the-macro-function-associated-with-a-character" class="table-of-contents__link toc-highlight">4.4 <code>set-macro-character</code>: Setting the Macro Function Associated with a Character</a></li><li><a href="#45-read-how-read-interacts-with-the-readtable" class="table-of-contents__link toc-highlight">4.5 <code>read</code>: How <code>read</code> Interacts with the Readtable</a></li></ul></li><li><a href="#5-readtable-case-and-related-variables" class="table-of-contents__link toc-highlight">5. Readtable Case and Related Variables</a><ul><li><a href="#51-read-base-the-input-base-for-numbers" class="table-of-contents__link toc-highlight">5.1 <code>*read-base*</code>: The Input Base for Numbers</a></li><li><a href="#52-read-default-float-format-the-default-float-format" class="table-of-contents__link toc-highlight">5.2 <code>*read-default-float-format*</code>: The Default Float Format</a></li><li><a href="#53-readtable-case-controlling-case-conversion-during-reading" class="table-of-contents__link toc-highlight">5.3 <code>*readtable-case*</code>: Controlling Case Conversion During Reading</a></li><li><a href="#54-with-standard-io-syntax-restoring-standard-readtable-settings" class="table-of-contents__link toc-highlight">5.4 <code>with-standard-io-syntax</code>: Restoring Standard Readtable Settings</a></li></ul></li><li><a href="#6-examples-and-advanced-techniques-with-readtables" class="table-of-contents__link toc-highlight">6. Examples and Advanced Techniques with Readtables</a><ul><li><a href="#61-creating-a-simple-domain-specific-language" class="table-of-contents__link toc-highlight">6.1 Creating a Simple Domain-Specific Language</a></li><li><a href="#62-handling-different-date-formats" class="table-of-contents__link toc-highlight">6.2 Handling Different Date Formats</a></li><li><a href="#63-implementing-a-custom-comment-syntax" class="table-of-contents__link toc-highlight">6.3 Implementing a Custom Comment Syntax</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial">Common Lisp Tutorial</a></li><li class="footer__item"><a href="https://lisp-docs.github.io/cl-language-reference/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Common Lisp Technical Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/help">Help</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/common-lisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/hhk46CE" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/common_lisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://irclog.tymoon.eu/libera/commonlisp" target="_blank" rel="noopener noreferrer" class="footer__link-item">IRC<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/lisp-docs/lisp-docs.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorial and General Content GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/lisp-docs/cl-language-reference/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Technical Reference GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contribute">Contribute to the Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Common Lisp Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/whylisp">Why Lisp</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQ</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/help">Getting Help</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/howto">How To Guides</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Common Lisp Docs, MIT License (see GitHub Repo).</div></div></div></footer></div>
</body>
</html>